#!/usr/bin/env python3

import json

x = "X"
default_conndef = [
    #    1     2  3  4     5  6  7  8
    ["VCC","GND", x, x,"led1", x, x, x,
    "r1", "r2", "r3", "r4", "r5", x, # 14
    "c1", "c2", "c3", "c4", "c5", "c6", "c7", x, # 22
    x, x, x, x, x, x, x, x], #30
    #    1     2  3  4     5  6  7  8
    ["VCC","GND", x, x,"led2", x, x, x,
    "r1", "r2", "r3", "r4", "r5", x, # 14
    "c7", "c8", "c9", "c10", "c11", "c12", "c13", "c14", # 22
    x, x, x, x, x, x, x, x] #30
]

anise60_conndef_wi2c = [
    #    1     2  3  4      5       6       7  8
    ["VCC","GND", x, "sdaL","led1", "sclL", x, x,
    "r1", "r2", "r3", "r4", "r5", x, # 14
    "c1", "c2", "c3", "c4", "c5", "c6", "c7", x, # 22
    x, x, x, x, x, x, x, x], #30
    #    1     2  3  4       5      6       7  8
    ["VCC","GND", x, "sdaR","led2", "sclR", x, x,
    "r1", "r2", "r3", "r4", "r5", x, # 14
    "c7", "c8", "c9", "c10", "c11", "c12", "c13", "c14", # 22
    x, x, x, x, x, x, x, x] #30
]

pad21_conndef_wi2c = [
    #    1     2  3  4      5       6       7  8
    ["VCC","GND", x, "sdaL","led1", "sclL", x, x,
    "r1", "r2", "r3", "r4", "r5", "r6", # 14
    "c1", "c2", "c3", "c4", x, x, x, x, # 22
    x, x, x, x, x, x, x, x]
]

anise75_conndef_wi2c = [
    #    1     2  3  4      5       6       7  8
    ["VCC","GND", x, "sdaL","led1", "sclL", x, x,
    "r1", "r2", "r3", "r4", "r5", x, # 14
    "c1", "c2", "c3", "c4", "c5", "c6", "c7", "c8", # 22
    x,    x,    x,    x,    x,    x,    x,    x], #30
    #    1     2  3  4       5      6       7  8
    ["VCC","GND", x, "sdaR","led2", "sclR", x, x,
    "r1", "r2", "r3", "r4", "r5", x, # 14
    "c8", "c9", "c10","c11", "c12", "c13", "c14", "c15", # 22
    "c16", x,   x,    x,     x,     x,     x,     x] #30
]

anise90_conndef_wi2c = [
    #    1     2  3  4      5       6       7  8
    ["VCC","GND", x, "sdaL","led1", "sclL", x, x,
    "r1", "r2", "r3", "r4", "r5", "r6", # 14
    "c0", "c1", "c2", "c3", "c4", "c5", "c6", "c7", # 22
    x, x, x, x, x, x, x, x], #30
    #    1     2  3  4       5      6       7  8
    ["VCC","GND", x, "sdaR","led2", "sclR", x, x,
    "r1", "r2", "r3", "r4", "r5", "r6", # 14
    "c7", "c8", "c9", "c10","c11","c12", "c13", "c14", # 22
    "c15", x,   x,    x,     x,     x,     x,     x] #30
]

anise90_conndef_wi2c_wenc = [
    #    1     2  3  4      5       6       7       8
    ["VCC","GND", x, "sdaL","led1", "sclL", "encA", "encB",
    "r1", "r2", "r3", "r4", "r5", "r6", # 14
    "c0", "c1", "c2", "c3", "c4", "c5", "c6", "c7", # 22
    x, x, x, x, x, x, x, x], #30
    #    1     2  3  4       5      6       7       8
    ["VCC","GND", x, "sdaR","led2", "sclR", "encA", "encB",
    "r1", "r2", "r3", "r4", "r5", "r6", # 14
    "c7", "c8", "c9", "c10","c11","c12", "c13", "c14", # 22
    "c15", x,   x,    x,     x,     x,     x,     x] #30
]


default_desc = {
    "name" : "anise60b",
    "description" : "gh60 like",
    "kbd_type": "anise60",
    "layout" : [
    #esc 1  2  3  4  5  6      7  8  9  0  -  = bks
    [4,  4, 4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 8],
    #tab q  w  e  r  t      y  u  i  o  p  [  ]  \
    [6,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 4, 6],
    #cap a  s  d  f  g       h  j  k  l  ;  '  ret
    [7,  4, 4, 4, 4, 4, -2,  4, 4, 4, 4, 4, 4, 9],
    #LSH z  x  c  v  b        n  m  ,  .  /  rsh
    [9,  4, 4, 4, 4, 4, -2,   4, 4, 4, 4, 4, 11],
    #_   C  W  A  S  *        S  F  A  M  C  _
    ["2", 5, 5, 5, 8, 4, -2,  8, 5, 5, 5, 5, "3"]
    ],
    "num_rc": [5, 14],
    "key_matrix": [
    # esc   1     2     3     4     5   / 6   / 7     8     9      0      -      =      bks
    [[1,1],[1,2],[1,3],[1,4],[1,5],[1,6],[1,7],[1,8],[1,9],[1,10],[1,11],[1,12],[1,13],[1,14]],
    # tab    q     w     e     r     t   / y     u     i     o      p      [      ]      \
    [[2,1], [2,2],[2,3],[2,4],[2,5],[2,6],[2,7],[2,8],[2,9],[2,10],[2,11],[2,12],[2,13],[2,14]],
    # cap      a     s     d     f     g   / h     j     k     l      ;      '           ret
    [[3,1],   [3,2],[3,3],[3,4],[3,5],[3,6],[3,7],[3,8],[3,9],[3,10],[3,11],[3,12],     [3,14]],
    # lsh         z     x     c     v     b   / n     m     ,      .      /             rsh
    [[4,1],      [4,3],[4,4],[4,5],[4,6],[4,7],[4,8],[4,9],[4,10],[4,11],[4,12],        [4,14]],
    #LCTL  LWIN  LALT         S           *   / S     RFUN         RALT   MENU   RCTL
    [[5,1],[5,2],[5,3],      [5,6],      [5,7],[5,8],[5,9],       [5,11],[5,12],[5,13]],
    ],
    "led_conn": [
        ["led1",17,16,15,14,13,12,11,21,22,23,24,25,26,36,35,34,33,32,31,41,43,44,45,46,47,57,56,53,52,51],
        ["led2",17,18,19,110,111,112,113,114,214,213,212,211,210,29,28,27,37,38,39,310,311,312,314,414,412,411,410,49,48,58,59,511,512,513],
    ],
    "conn_def": anise60_conndef_wi2c,
}

        # #lsh z  x  c  v  b      n  m  ,  .  /  u   rsh
        # [9,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4,  7],
        # #C  _    W  A  S  *      S  A  W  l  d  r
        # [5, "2", 5, 5, 8, 4, -2, 8, 4, 4, 4, 4, 4, "3"]
dnav_desc = {
    "name" : "anise60bnav",
    "description" : "gh60 like",
    "kbd_type": "anise60",
    "layout" : [
        #esc 1  2  3  4  5  6      7  8  9  0  -  = bks
        [4,  4, 4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 8],
        #tab q  w  e  r  t      y  u  i  o  p  [  ]  \
        [6,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 4, 6],
        #cap a  s  d  f  g      h  j  k  l  ;  '  ret
        [7,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 9],
        #lsh z  x  c  v  b      n  m  ,  .  /  u   rsh
        [9,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4,"1", 4, "1", 5],
        #_    C  W  A  S  *      S  A  W       l  d  r
        ["2", 5, 5, 5, 8, 4, -2, 8, 4, 4, "1", 4, 4, 4, "2"]
    ],
    "num_rc": [5, 14],
    "key_matrix": [
    # esc   1     2     3     4     5   / 6   / 7     8     9      0      -      =      bks
    [[1,1],[1,2],[1,3],[1,4],[1,5],[1,6],[1,7],[1,8],[1,9],[1,10],[1,11],[1,12],[1,13],[1,14]],
    # tab    q     w     e     r     t   / y     u     i     o      p      [      ]      \
    [[2,1], [2,2],[2,3],[2,4],[2,5],[2,6],[2,7],[2,8],[2,9],[2,10],[2,11],[2,12],[2,13],[2,14]],
    # cap      a     s     d     f     g   / h     j     k     l      ;      '           ret
    [[3,1],   [3,2],[3,3],[3,4],[3,5],[3,6],[3,7],[3,8],[3,9],[3,10],[3,11],[3,12],     [3,14]],
    # lsh         z     x     c     v     b   / n     m     ,      .      /       u      rsh
    [[4,1],      [4,3],[4,4],[4,5],[4,6],[4,7],[4,8],[4,9],[4,10],[4,11],[4,12], [4,13], [4,14]],
    #LCTL  LWIN  LALT         S           *   / S     RFUN   RALT    l      d       r
    [[5,1],[5,2],[5,3],      [5,6],      [5,7],[5,8],[5,9], [5,11],[5,12],[5,13], [5,14]],
    ],
    "led_conn": [
        ["led1",17,16,15,14,13,12,11,21,22,23,24,25,26,36,35,34,33,32,31,41,43,44,45,46,47,57,56,53,52,51],
        ["led2",17,18,19,110,111,112,113,114,214,213,212,211,210,29,28,27,37,38,39,310,311,312,314,414,413,412,411,410,49,48,58,59,511,512,513,514],
    ],
    "conn_def": anise60_conndef_wi2c,
}

hh_desc = {
    "name" : "anise60hh",
    "description" : "gh60 like",
    "kbd_type": "anise60",
    "layout" : [
        #esc 1  2  3  4  5  6      7  8  9  0  -  =  `  \
        [4,  4, 4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 4, 4],
        #tab q  w  e  r  t      y  u  i  o  p  [  ]  bks
        [6,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 4, 6],
        #cap a  s  d  f  g      h  j  k  l  ;  '  ret
        [7,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 9],
        #lsh z  x  c  v  b      n  m  ,  .  /  rsh, fn
        [9,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 7,  4],
        #_    A  W  S  S      S   W  A  _
        ["6", 4, 6, 9, 4, -2, 11, 6, 4, "10"]
    ],
    "num_rc": [5, 14],
    "key_matrix": [
        # esc   1     2     3     4     5   / 6   / 7     8     9      0      -      =      `     \
        [[1,1],[1,2],[1,3],[1,4],[1,5],[1,6],[1,7],[1,8],[1,9],[1,10],[1,11],[1,12],[1,13],[1,14],[5,10]],
        # tab    q     w     e     r     t   / y     u     i     o      p      [      ]      back
        [[2,1], [2,2],[2,3],[2,4],[2,5],[2,6],[2,7],[2,8],[2,9],[2,10],[2,11],[2,12],[2,13],[2,14]],
        # cap      a     s     d     f     g   / h     j     k     l      ;      '           ret
        [[3,1],   [3,2],[3,3],[3,4],[3,5],[3,6],[3,7],[3,8],[3,9],[3,10],[3,11],[3,12],     [3,14]],
        # lsh         z     x     c     v     b   / n     m     ,      .      /       rsh     fn
        [[4,1],      [4,3],[4,4],[4,5],[4,6],[4,7],[4,8],[4,9],[4,10],[4,11],[4,12], [4,13], [4,14]],
        #      LWIN  LALT         S           *   / S     RFUN   RALT
        [      [5,2],[5,3],      [5,6],      [5,7],[5,8],[5,9], [5,11]                      ],
    ],
    "led_conn": [
        ["led1",17,16,15,14,13,12,11,21,22,23,24,25,26,36,35,34,33,32,31,41,43,44,45,46,47,57,56,53,52],
        ["led2",17,18,19,110,111,112,113,114,510,214,213,212,211,210,29,28,27,37,38,39,310,311,312,314,414,413,412,411,410,49,48,58,59,511],
    ],
    "conn_def": anise60_conndef_wi2c,
}

mn_desc = {
    "name" : "anise60mn",
    "description" : "gh60 like",
    "kbd_type": "anise60",
    "layout" : [
        #esc 1  2  3  4  5  6      7  8  9  0  -  =  `  bks
        [4,  4, 4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 4, 4],
        #tab q  w  e  r  t      y  u  i  o  p  [  ]  \
        [6,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 4, 6],
        #cap a  s  d  f  g      h  j  k  l  ;  '  ret
        [7,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 9],
        #lsh z  x  c  v  b      n  m  ,  .  /  rsh up rsh
        [8,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4,  4, 4],
        #C   W  A  F  S         S  F  W  A  l  d  r
        [7,  5, 5, 5, 6,    -2, 6, 5, 5, 4, 4, 4, 4]
    ],
    "num_rc": [5, 14],
    "key_matrix": [
        # esc   1     2     3     4     5   / 6   / 7     8     9      0      -      =      `     \
        [[1,1],[1,2],[1,3],[1,4],[1,5],[1,6],[1,7],[1,8],[1,9],[1,10],[1,11],[1,12],[1,13],[1,14],[5,10]],
        # tab    q     w     e     r     t   / y     u     i     o      p      [      ]      back
        [[2,1], [2,2],[2,3],[2,4],[2,5],[2,6],[2,7],[2,8],[2,9],[2,10],[2,11],[2,12],[2,13],[2,14]],
        # cap      a     s     d     f     g   / h     j     k     l      ;      '           ret
        [[3,1],   [3,2],[3,3],[3,4],[3,5],[3,6],[3,7],[3,8],[3,9],[3,10],[3,11],[3,12],     [3,14]],
        # lsh         z     x     c     v     b   / n     m     ,      .      /       rsh     UP      DEL
        [[4,1],      [4,3],[4,4],[4,5],[4,6],[4,7],[4,8],[4,9],[4,10],[4,11],[4,12], [4,13], [4,14], [3,13]],
        #CTL   LWIN  LALT  FN      S              / S     RFUN   RALT  APP    LEFT    DOWN   RIGHT
        [[5,1],[5,2],[5,3],[5,5], [5,6],           [5,7],[5,8], [5,9],[5,11],[5,12],[5,13],[5,14]],
    ],
    "led_conn": [
        ["led1",17,16,15,14,13,12,11,21,22,23,24,25,26,36,35,34,33,32,31,41,43,44,45,46,47,56,55,53,52,51],
        ["led2",17,18,19,110,111,112,113,114,510,214,213,212,211,210,29,28,27,37,38,39,310,311,312,314,313,414,413,412,411,410,49,48,57,58,59,511,512,513,514],
    ],
    "conn_def": anise60_conndef_wi2c,
}

mj_desc = {
    "name" : "anise60mj",
    "description" : "gh60 like",
    "kbd_type": "anise60",
    "layout" : [
        #esc 1  2  3  4  5  6      7  8  9  0  -  =  `  bks
        [4,  4, 4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 4, 4],
        #tab q  w  e  r  t      y  u  i  o  p  [  ]  ret
        [6,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 4, "6"],
        #cap a  s  d  f  g      h  j  k  l  ;  '  \  ret
        [7,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 4, 5.5],
        #lsh z  x  c  v  b      n  m  ,  .  /  rsh up rsh
        [8,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4,  4, 4],
        #C  W  A  K  F  S       S  F  W  A  l  d  r
        [5, 4, 4, 4, 5, 6,  -2, 6, 5, 5, 4, 4, 4, 4]
    ],
    "num_rc": [5, 14],
    "key_matrix": [
        # esc   1     2     3     4     5   / 6   / 7     8     9      0      -      =      `     \
        [[1,1],[1,2],[1,3],[1,4],[1,5],[1,6],[1,7],[1,8],[1,9],[1,10],[1,11],[1,12],[1,13],[1,14],[5,10]],
        # tab    q     w     e     r     t   / y     u     i     o      p      [      ]
        [[2,1], [2,2],[2,3],[2,4],[2,5],[2,6],[2,7],[2,8],[2,9],[2,10],[2,11],[2,12],[2,13]       ],
        # cap      a     s     d     f     g   / h     j     k     l      ;      '       \     ret
        [[3,1],   [3,2],[3,3],[3,4],[3,5],[3,6],[3,7],[3,8],[3,9],[3,10],[3,11],[3,12],[3,13],[3,14]],
        # lsh         z     x     c     v     b   / n     m     ,      .      /       rsh     fn      DEL
        [[4,1],      [4,3],[4,4],[4,5],[4,6],[4,7],[4,8],[4,9],[4,10],[4,11],[4,12], [4,13], [4,14], [2,14]],
        #CTL   LWIN  LALT   KANA  FN     S        /  S    RFUN  KANA   ALT    LEFT    DOWN   RIGHT
        [[5,1],[5,2],[5,3],[5,4],[5,5], [5,6],     [5,7],[5,8], [5,9], [5,11],[5,12],[5,13],[5,14]],
    ],
    "led_conn": [
        ["led1",17,16,15,14,13,12,11,21,22,23,24,25,26,36,35,34,33,32,31,41,43,44,45,46,47,56,55,54,53,52,51],
        ["led2",17,18,19,110,111,112,113,114,510,213,212,211,210,29,28,27,37,38,39,310,311,312,313,314,214,414,413,412,411,410,49,48,57,58,59,511,512,513,514],
    ],
    "conn_def": anise60_conndef_wi2c,
}

po_desc = {
    "name" : "anise60po",
    "description" : "gh60 like",
    "kbd_type": "anise60",
    "layout" : [
    #esc 1  2  3  4  5  6      7  8  9  0  -  = bks
    [4,  4, 4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 8],
    #tab q  w  e  r  t      y  u  i  o  p  [  ]  \
    [6,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 4, 6],
    #cap a  s  d  f  g      h  j  k  l  ;  '  ret
    [7,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 9],
    #lsh z  x  c  v  b      n  m  ,  .  /  rsh
    [9,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 11],
    # C  W  A  S  *         S  A  W  F  C
    [ 5, 5, 5, 9, 5,    -2, 11, 5, 5, 5, 5]
    ],
    "num_rc": [5, 14],
    "key_matrix": [
    # esc   1     2     3     4     5   / 6   / 7     8     9      0      -      =      bks
    [[1,1],[1,2],[1,3],[1,4],[1,5],[1,6],[1,7],[1,8],[1,9],[1,10],[1,11],[1,12],[1,13],[1,14]],
    # tab    q     w     e     r     t   / y     u     i     o      p      [      ]      \
    [[2,1], [2,2],[2,3],[2,4],[2,5],[2,6],[2,7],[2,8],[2,9],[2,10],[2,11],[2,12],[2,13],[2,14]],
    # cap      a     s     d     f     g   / h     j     k     l      ;      '           ret
    [[3,1],   [3,2],[3,3],[3,4],[3,5],[3,6],[3,7],[3,8],[3,9],[3,10],[3,11],[3,12],     [3,14]],
    # lsh         z     x     c     v     b   / n     m     ,      .      /             rsh
    [[4,1],      [4,3],[4,4],[4,5],[4,6],[4,7],[4,8],[4,9],[4,10],[4,11],[4,12],        [4,14]],
    #LCTL  LWIN  LALT         S           *   / S          RFUN    RALT   MENU   RCTL
    [[5,1],[5,2],[5,3],      [5,6],      [5,7],[5,8],     [5,11],  [5,12],[5,13],[5,14]],
    ],
    "led_conn": [
        ["led1",17,16,15,14,13,12,11,21,22,23,24,25,26,36,35,34,33,32,31,41,43,44,45,46,47,57,56,53,52,51],
        ["led2",17,18,19,110,111,112,113,114,214,213,212,211,210,29,28,27,37,38,39,310,311,312,314,414,412,411,410,49,48,58,511,512,513,514],
    ],
    "conn_def": anise60_conndef_wi2c,
}

pof_desc = {
    "name" : "anise60pof",
    "description" : "gh60 like",
    "kbd_type": "anise60",
    "layout" : [
    #esc 1  2  3  4  5  6      7  8  9  0  -  = bks
    [4,  4, 4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 8],
    #tab q  w  e  r  t      y  u  i  o  p  [  ]  \
    [6,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 4, 6],
    #cap a  s  d  f  g      h  j  k  l  ;  '  ret
    [7,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 9],
    #lsh z  x  c  v  b      n  m  ,  .  /  rsh fn
    [9,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 7,  4],
    # C  W  A  S  *         S  A  W  F  C
    [ 5, 5, 5, 9, 5,    -2, 11, 5, 5, 5, 5]
    ],
    "num_rc": [5, 14],
    "key_matrix": [
    # esc   1     2     3     4     5   / 6   / 7     8     9      0      -      =      bks
    [[1,1],[1,2],[1,3],[1,4],[1,5],[1,6],[1,7],[1,8],[1,9],[1,10],[1,11],[1,12],[1,13],[1,14]],
    # tab    q     w     e     r     t   / y     u     i     o      p      [      ]      \
    [[2,1], [2,2],[2,3],[2,4],[2,5],[2,6],[2,7],[2,8],[2,9],[2,10],[2,11],[2,12],[2,13],[2,14]],
    # cap      a     s     d     f     g   / h     j     k     l      ;      '           ret
    [[3,1],   [3,2],[3,3],[3,4],[3,5],[3,6],[3,7],[3,8],[3,9],[3,10],[3,11],[3,12],     [3,14]],
    # lsh         z     x     c     v     b   / n     m     ,      .      /       rsh    fn
    [[4,1],      [4,3],[4,4],[4,5],[4,6],[4,7],[4,8],[4,9],[4,10],[4,11],[4,12],[4,13], [4,14]],
    #LCTL  LWIN  LALT         S           *   / S          RFUN    RALT   MENU   RCTL
    [[5,1],[5,2],[5,3],      [5,6],      [5,7],[5,8],     [5,11],  [5,12],[5,13],[5,14]],
    ],
    "led_conn": [
        ["led1",17,16,15,14,13,12,11,21,22,23,24,25,26,36,35,34,33,32,31,41,43,44,45,46,47,57,56,53,52,51],
        ["led2",17,18,19,110,111,112,113,114,214,213,212,211,210,29,28,27,37,38,39,310,311,312,314,414,413,412,411,410,49,48,58,59,512,513,514],
    ],
    "conn_def": anise60_conndef_wi2c,
}

pe_desc = {
    "name" : "anise60pe",
    "description" : "gh60 like",
    "kbd_type": "anise60",
    "layout" : [
    #esc 1  2  3  4  5  6      7  8  9  0  -  = bks
    [4,  4, 4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 8],
    #tab q  w  e  r  t      y  u  i  o  p  [  ]  ret
    [6,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 4, "6"],
    #cap a  s  d  f  g      h  j  k  l  ;  '  \  ret
    [7,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 4, 5.5],
    #lsh < z  x  c  v  b      n  m  ,  .  /  rsh
    [5, 4, 4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 11],
    # C  W  A  S  *         S  A  W  F  C
    [ 5, 5, 5, 9, 5,    -2, 11, 5, 5, 5, 5]
    ],
    "num_rc": [5, 14],
    "key_matrix": [
    # esc   1     2     3     4     5   / 6   / 7     8     9      0      -      =      bks
    [[1,1],[1,2],[1,3],[1,4],[1,5],[1,6],[1,7],[1,8],[1,9],[1,10],[1,11],[1,12],[1,13],[1,14]],
    # tab    q     w     e     r     t   / y     u     i     o      p      [      ]
    [[2,1], [2,2],[2,3],[2,4],[2,5],[2,6],[2,7],[2,8],[2,9],[2,10],[2,11],[2,12],[2,13]],
    # cap      a     s     d     f     g   / h     j     k     l      ;      '      \     ret
    [[3,1],   [3,2],[3,3],[3,4],[3,5],[3,6],[3,7],[3,8],[3,9],[3,10],[3,11],[3,12],[3,13],[3,14]],
    # lsh  <>     z     x     c     v     b   / n     m     ,      .      /               rsh
    [[4,1],[4,2],[4,3],[4,4],[4,5],[4,6],[4,7],[4,8],[4,9],[4,10],[4,11],[4,12],        [4,14]],
    #LCTL  LWIN  LALT         S           *   / S          RFUN    RALT   MENU   RCTL
    [[5,1],[5,2],[5,3],      [5,6],      [5,7],[5,8],     [5,11],  [5,12],[5,13],[5,14]],
    ],
    "led_conn": [
        ["led1",17,16,15,14,13,12,11,21,22,23,24,25,26,36,35,34,33,32,31,41,43,44,45,46,47,57,56,53,52,51],
        ["led2",17,18,19,110,111,112,113,114,214,213,212,211,210,29,28,27,37,38,39,310,311,312,314,414,412,411,410,49,48,58,59,512,513,514],
    ],
    "conn_def": anise60_conndef_wi2c,
}

pef_desc = {
    "name" : "anise60pef",
    "description" : "gh60 like",
    "kbd_type": "anise60",
    "layout" : [
    #esc 1  2  3  4  5  6      7  8  9  0  -  = bks
    [4,  4, 4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 8],
    #tab q  w  e  r  t      y  u  i  o  p  [  ]  ret
    [6,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 4, "6"],
    #cap a  s  d  f  g      h  j  k  l  ;  '  \  ret
    [7,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 4, 5.5],
    #lsh < z  x  c  v  b      n  m  ,  .  /  rsh fn
    [5, 4, 4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 7,  4],
    # C  W  A  S  *         S  A  W  F  C
    [ 5, 5, 5, 9, 5,    -2, 11, 5, 5, 5, 5]
    ],
    "num_rc": [5, 14],
    "key_matrix": [
    # esc   1     2     3     4     5   / 6   / 7     8     9      0      -      =      bks
    [[1,1],[1,2],[1,3],[1,4],[1,5],[1,6],[1,7],[1,8],[1,9],[1,10],[1,11],[1,12],[1,13],[1,14]],
    # tab    q     w     e     r     t   / y     u     i     o      p      [      ]
    [[2,1], [2,2],[2,3],[2,4],[2,5],[2,6],[2,7],[2,8],[2,9],[2,10],[2,11],[2,12],[2,13]],
    # cap      a     s     d     f     g   / h     j     k     l      ;      '      \     ret
    [[3,1],   [3,2],[3,3],[3,4],[3,5],[3,6],[3,7],[3,8],[3,9],[3,10],[3,11],[3,12],[3,13],[3,14]],
    # lsh  <>     z     x     c     v     b   / n     m     ,      .      /       rsh    fn
    [[4,1],[4,2],[4,3],[4,4],[4,5],[4,6],[4,7],[4,8],[4,9],[4,10],[4,11],[4,12],[4,13], [4,14]],
    #LCTL  LWIN  LALT         S           *   / S          RFUN    RALT   MENU   RCTL
    [[5,1],[5,2],[5,3],      [5,6],      [5,7],[5,8],     [5,11],  [5,12],[5,13],[5,14]],
    ],
    "led_conn": [
        ["led1",17,16,15,14,13,12,11,21,22,23,24,25,26,36,35,34,33,32,31,41,43,44,45,46,47,57,56,53,52,51],
        ["led2",17,18,19,110,111,112,113,114,214,213,212,211,210,29,28,27,37,38,39,310,311,312,314,414,413,412,411,410,49,48,58,59,512,513,514],
    ],
    "conn_def": anise60_conndef_wi2c,
}

anise85n_desc = {
    "name" : "anise85n",
    "description" : "85% layout",
    "kbd_type": "anise85",
    "shell_only": True,
    "layout" : [
    #esc   1  2  3  4     5 6     7  8       9  A  B  C  blank      ?  next row skip 0.25u more
    [4,"1",4, 4, 4, 4,"1",4,4,-2, 4, 4, "1", 4, 4, 4, 4, "1", 4,"1", "O", "-1"],
    #`   1  2  3  4  5  6      7  8  9  0  -  = bks
    [4,  4, 4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4,    8, "1", 4],
    #tab q  w  e  r  t      y  u  i  o  p  [  ]       ret
    [6,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 4,    6, "1", 4],
    #cap a  s  d  f  g      h  j  k  l  ;  '          rsh
    [7,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4,       9, "1", 4],
    #lsh   z  x  c  v  b      n  m  ,  .  /    rsh   up
    [9,    4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 7,"0", 4.0, "0", 4],
    #C   W   A   S     *      S       A W C      l   d   r
    [5,  5,  5,  9,    5, -2, 11,     4,4,4,"0",4.0,4.0,4.0, "0"]
    ]
}

anise85a_desc = {
    "name" : "anise85a",
    "description" : "85% layout, space row arrangement like apple and thinkpad",
    "kbd_type": "anise85",
    "shell_only": True,
    "layout" : [
    #esc   1  2  3  4     5 6     7  8       9  A  B  C  blank   ?  next row skip 0.25u more
    [4,"1",4, 4, 4, 4,"1",4,4,-2, 4, 4, "1", 4, 4, 4, 4, "1", 4,"1", "O", "-1"],
    #`   1  2  3  4  5  6      7  8  9  0  -  = bks
    [4,  4, 4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4,    8, "1", 4],
    #tab q  w  e  r  t      y  u  i  o  p  [  ]       ret
    [6,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 4,    6, "1", 4],
    #cap a  s  d  f  g      h  j  k  l  ;  '          rsh
    [7,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4,       9, "1", 4],
    #lsh   z  x  c  v  b      n  m  ,  .  /    rsh   up
    [9,    4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 7,"0", 4.0, "0", 4],
    # F  C  W  A   S    *      S     A W C      l   d   r
    [4, 4, 4, 5,  8,   4, -2, 8,    5,5,5,"0",4.0,4.0,4.0, "0"]
    ]
}

# anise90n1_desc = {
#     "name" : "anise90n",
#     "description" : "90% layout",
#     "kbd_type": "anise90",
#     "layout" : [
#     #blank   esc 1  2  3  4  5  6      7  8  9  A  B  C blank ?  blank  next row skip 0.5u
#     ["6"    ,4,  4, 4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, "4", 4, "6", "-2"],
#     #        `   1  2  3  4  5  6      7  8  9  0  -  = bks
#     [4, "2", 4,  4, 4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4,    8, "2", 4],
#     #        tab q  w  e  r  t      y  u  i  o  p  [  ]       ret
#     [4, "2", 6,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 4,    6, "2", 4],
#     #        cap a  s  d  f  g      h  j  k  l  ;  '          rsh
#     [4, "2", 7,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4,       9, "2", 4],
#     #        lsh   z  x  c  v  b      n  m  ,  .  /    rsh   up
#     [4, "2", 9,    4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 7,"1", 4.1, "1", 4],
#     #        C   W   A   S     *      S       A W C      l   d   r
#     ["6"    ,5,  5,  5,  9,    5, -2, 11,     4,4,4,"1",4.1,4.1,4.1, "1"]
#     ],
#     "num_rc": [6, 16],
#     "key_matrix": [
#     #        esc   F1    F2    F3    F4    F5  * F6  /  F7   F8     F9     F10    F11    F12     ?
#     [       [1,2],[1,3],[1,4],[1,5],[1,6],[1,7],[1,8],[1,9],[1,10],[1,11],[1,12],[1,13],[1,14],[1,15],   ],
#     #        esc   1     2     3     4     5   * 6   / 7     8      9      0      -      =      bks
#     [[2,1], [2,2],[2,3],[2,4],[2,5],[2,6],[2,7],[2,8],[2,9],[2,10],[2,11],[2,12],[2,13],[2,14],[2,15],  [2,16]],
#     #        tab   q     w     e     r     t   / y     u     i     o      p      [      ]       \
#     [[3,1], [3,2],[3,3],[3,4],[3,5],[3,6],[3,7],[3,8],[3,9],[3,10],[3,11],[3,12],[3,13],[3,14],[3,15],  [3,16]],
#     #        cap     a     s     d     f     g   / h     j     k      l      ;      '          ret
#     [[4,1], [4,2],  [4,3],[4,4],[4,5],[4,6],[4,7],[4,8],[4,9],[4,10],[4,11],[4,12],[4,13],     [4,15],  [4,16]],
#     #        lsh         z     x     c     v     b   / n     m      ,      .      /       rsh     up
#     [[5,1], [5,2],      [5,4],[5,5],[5,6],[5,7],[5,8],[5,9],[5,10],[5,11],[5,12],[5,13],[5,14], [5,15], [5,16]],
#     #       LCTL  LWIN  LALT         S           *   / S          RFUN   RALT   MENU       left  down  right
#     [       [6,2],[6,3],[6,4],      [6,7],      [6,8],[6,9],     [6,11], [6,12],[6,13],  [6,14],[6,15],[6,16] ],
#     ],
#     "led_conn": [
#         ["led1",18,17,16,15,14,13,12,21,22,23,24,25,26,27,28,37,36,35,34,33,32,31,41,42,43,44,45,46,47,58,57,56,55,54,52,51,61,62,63,64,67,68],
#         ["led2",19,110,111,112,113,114,115,216,215,214,213,212,211,210,29,38,39,310,311,312,313,314,315,316,416,415,413,412,411,410,49,48,59,510,511,512,513,514,515,516,616,615,614,613,612,611,69],
#     ],
#     "conn_def": anise90_conndef_wi2c,
# }

anise90n_desc = {
    "name" : "anise90n",
    "description" : "90% layout",
    "kbd_type": "anise90",
    "layout" : [
    #blank   esc   1  2  3  4     5 6     7  8       9  A  B  C       ?           next row skip 0.25u more
    ["O","1",4,"1",4, 4, 4, 4,"1",4,4,-2, 4, 4, "1", 4, 4, 4, 4, "1", 4 ,"1", "O", "-1"],
    #        `   1  2  3  4  5  6      7  8  9  0  -  = bks
    [4, "1", 4,  4, 4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4,    8, "1", 4],
    #        tab q  w  e  r  t      y  u  i  o  p  [  ]       ret
    [4, "1", 6,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 4,    6, "1", 4],
    #        cap a  s  d  f  g      h  j  k  l  ;  '          rsh
    [4, "1", 7,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4,       9, "1", 4],
    #        lsh   z  x  c  v  b      n  m  ,  .  /    rsh   up
    [4, "1", 9,    4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 7,"0", 4.0, "0", 4],
    #        C   W   A   S     *      S       A W C      l   d   r
    ["5"    ,5,  5,  5,  9,    5, -2, 11,     4,4,4,"0",4.0,4.0,4.0, "0"]
    ],
    "num_rc": [6, 16],
    "key_matrix": [
    #        esc    F1    F2    F3    F4    F5    F6  / F7    F8     F9     F10    F11    F12     DEL
    [       [1,1], [1,2],[1,3],[1,4],[1,5],[1,6],[1,7],[1,8],[1,9],[1,10],[1,11],[1,12],[1,13],[1,14] ],
    #        esc   1     2     3     4     5   * 6   / 7     8      9      0      -      =      bks
    [[2,0], [2,1],[2,2],[2,3],[2,4],[2,5],[2,6],[2,7],[2,8],[2,9],[2,10],[2,11],[2,12],[2,13],[2,14],   [2,15]],
    #        tab   q     w     e     r     t   / y     u     i     o      p      [      ]       \
    [[3,0], [3,1],[3,2],[3,3],[3,4],[3,5],[3,6],[3,7],[3,8],[3,9],[3,10],[3,11],[3,12],[3,13],[3,14],   [3,15]],
    #        cap     a     s     d     f     g   / h     j     k      l      ;      '          ret
    [[4,0], [4,1],  [4,2],[4,3],[4,4],[4,5],[4,6],[4,7],[4,8],[4,9],[4,10],[4,11],[4,12],     [4,14],   [4,15]],
    #        lsh         z     x     c     v     b   / n     m      ,      .      /       rsh     up
    [[5,0], [5,1],      [5,3],[5,4],[5,5],[5,6],[5,7],[5,8],[5,9],[5,10],[5,11],[5,12],[5,13],  [5,14], [5,15]],
    #       LCTL  LWIN  LALT         S           *   / S          RFUN   RALT   MENU       left  down  right
    [       [6,1],[6,2],[6,3],      [6,5],      [6,7],[6,8],     [6,10], [6,11],[6,12],  [6,13],[6,14],[6,15] ],
    ],
    "led_conn": [
        ["led1",11,12,13,14,15,16,17,27,26,25,24,23,22,21,20,30,31,32,33,34,35,36,46,45,44,43,42,41,40,50,51,53,54,55,56,57,67,65,63,62,61],
        ["led2",114,113,112,111,110,19,18,17,27,28,29,210,211,212,213,214,215,315,314,313,312,311,310,39,38,37,47,48,49,410,411,412,414,415,515,514,513,512,511,510,59,58,68,610,611,612,613,614,615]
    ],
    "conn_def": anise90_conndef_wi2c,
}

anise90a_desc = {
    "name" : "anise90a",
    "description" : "90% layout, space row like apple and thinkpad",
    "kbd_type": "anise90",
    "layout" : [
    #blank   esc   1  2  3  4     5 6     7  8       9  A  B  C  blank   ?  next row skip 0.25u more
    ["O","1",4,"1",4, 4, 4, 4,"1",4,4,-2, 4, 4, "1", 4, 4, 4, 4, "1", 4, "1", "O", "-1"],
    #        `   1  2  3  4  5  6      7  8  9  0  -  =   bks
    [4, "1", 4,  4, 4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4,    8, "1", 4],
    #        tab q  w  e  r  t      y  u  i  o  p  [  ]       ret
    [4, "1", 6,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4, 4,    6, "1", 4],
    #        cap a  s  d  f  g      h  j  k  l  ;  '          rsh
    [4, "1", 7,  4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 4,       9, "1", 4],
    #        lsh   z  x  c  v  b      n  m  ,  .  /    rsh   up
    [4, "1", 9,    4, 4, 4, 4, 4, -2, 4, 4, 4, 4, 4, 7,"0", 4.0, "0", 4],
    #        F  C  W  A   S    *      S     A W C      l   d   r
    ["5"    ,4, 4, 4, 5,  8,   4, -2, 8,    5,5,5,"0",4.0,4.0,4.0, "0"]
    ],
    "num_rc": [6, 16],
    "key_matrix": [
    #        esc    F1    F2    F3    F4    F5    F6  / F7    F8     F9     F10    F11    F12     DEL
    [       [1,1], [1,2],[1,3],[1,4],[1,5],[1,6],[1,7],[1,8],[1,9],[1,10],[1,11],[1,12],[1,13],[1,14] ],
    #        esc   1     2     3     4     5   * 6   / 7     8      9      0      -      =      bks
    [[2,0], [2,1],[2,2],[2,3],[2,4],[2,5],[2,6],[2,7],[2,8],[2,9],[2,10],[2,11],[2,12],[2,13],[2,14],   [2,15]],
    #        tab   q     w     e     r     t   / y     u     i     o      p      [      ]       \
    [[3,0], [3,1],[3,2],[3,3],[3,4],[3,5],[3,6],[3,7],[3,8],[3,9],[3,10],[3,11],[3,12],[3,13],[3,14],   [3,15]],
    #        cap     a     s     d     f     g   / h     j     k      l      ;      '          ret
    [[4,0], [4,1],  [4,2],[4,3],[4,4],[4,5],[4,6],[4,7],[4,8],[4,9],[4,10],[4,11],[4,12],     [4,14],   [4,15]],
    #        lsh         z     x     c     v     b   / n     m      ,      .      /       rsh     up
    [[5,0], [5,1],      [5,3],[5,4],[5,5],[5,6],[5,7],[5,8],[5,9],[5,10],[5,11],[5,12],[5,13],  [5,14], [5,15]],
    #       LFN   LCTL  LWIN  LALT        S      *   / S          RFUN   RALT   MENU       left  down  right
    [       [6,1],[6,2],[6,3],[6,4],    [6,5],   [6,7],[6,8],     [6,10], [6,11],[6,12], [6,13],[6,14],[6,15] ],
    ],
    "led_conn": [
        ["led1",11,12,13,14,15,16,17,27,26,25,24,23,22,21,20,30,31,32,33,34,35,36,46,45,44,43,42,41,40,50,51,53,54,55,56,57,67,65,64,63,62,61],
        ["led2",114,113,112,111,110,19,18,17,27,28,29,210,211,212,213,214,215,315,314,313,312,311,310,39,38,37,47,48,49,410,411,412,414,415,515,514,513,512,511,510,59,58,68,610,611,612,613,614,615]
    ],
    "conn_def": anise90_conndef_wi2c,
}

def gen_desc(name, desc, stab_type="plate", r4lshift=False, six2right=False, hole_version="v1"):
    assert desc["kbd_type"] in ["anise60", "anise75", "anise85", "anise90", "anisepad"]

    desc["stab_type"] = stab_type
    desc["r4lshift" ] = r4lshift
    desc["six2right"] = six2right
    desc["hole_version"] = hole_version

    assert "layout" in desc

    shell_only = "shell_only" in desc and desc["shell_only"]
    if not shell_only:
        assert "num_rc" in desc
        assert "key_matrix" in desc
        assert "led_conn" in desc
        assert "conn_def" in desc
        assert "kbd_type" in desc

        assert len(desc["layout"]) == len(desc["key_matrix"])
        for i, row in enumerate(desc["layout"]):
            key_count = 0
            for c in row:
                if type(c) is not str and c > 0:
                    key_count += 1
            # print(row, i, key_count)
            assert key_count == len(desc["key_matrix"][i])

    with open("desc/" + name + ".json", "w") as f: json.dump(desc, f)

if __name__ == "__main__":
    gen_desc("anise60b", default_desc, "plate")
    gen_desc("anise60bnav", dnav_desc, "plate", hole_version="v3")
    gen_desc("anise60hh", hh_desc, "plate")
    gen_desc("anise60mn", mn_desc, "plate", r4lshift=True)
    gen_desc("anise60mj", mj_desc, "plate", r4lshift=True)
    gen_desc("anise60po", po_desc, "plate")
    gen_desc("anise60pof", pof_desc, "plate")
    gen_desc("anise60pe", pe_desc, "plate")
    gen_desc("anise60pef", pef_desc, "plate")
    gen_desc("anise85n", anise85n_desc, "plate")
    gen_desc("anise85a", anise85a_desc, "plate")
    gen_desc("anise90n", anise90n_desc, "plate")
    gen_desc("anise90a", anise90a_desc, "plate")
    pass
